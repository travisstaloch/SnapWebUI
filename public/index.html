<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snap Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body style="height: 100rem">
    <template id="app-template">
      <h1>Snap Demo</h1>
      <div class="app">
        <h3>Counter</h3>
        <div>
          <button style="margin: 0.25rem" onclick="{eh__onDecClick}">-</button>
          <button style="margin: 0.25rem" onclick="{eh__onIncClick}">+</button>
          <span>count {count}</span>
        </div>
        <h3>Todos</h3>
        <div class="add-todo-section">
          <input type=text placeholder="Description..." id="new-todo" value="{input}" oninput="{eh__onNewTodoInput}" />
          <button onclick="{eh__onAddTodoClick}">Add Todo</button>
        </div>
        <ul class="todo-list">{todos}</ul>

        <h3>Stress Test</h3>
        <span style="margin: 1rem 0;">
          <button onclick="{eh__onToggleAnimation}">{animation_label}</button>
        </span>
        <span style="margin-left: 1rem">frames: <span id="frame-counter">{frame_count}</span></span>
        <br>
        <button onclick="{eh__onToggleStressTest}">{stress_test_label}</button>
        <div class="stress-test-container">{stress_table}</div>

        <h3>Dynamic Class Test</h3>
        <div id="dynamic-class-container"></div>
      </div>
    </template>
    <template id="todo-item-template">
      <li class="{class}">
        <input id=todo{id} type=checkbox {checked} onchange="{eh__onTodoChange}">
        <label for=todo{id}>{text}</label>
        <button onclick="{eh__onTodoDeleteClick}">Delete</button>
      </li>
    </template>
    <template id="stress-table-template">
        <table class="stress-table" style="border-collapse: collapse; margin: 1rem 0;">
            {stress_rows}
        </table>
    </template>
    <template id="stress-row-template"><tr>{stress_cells}</tr></template>
    <template id="stress-cell-template">
        <td style="border: 1px solid #ccc; padding: 4px 8px; text-align: center; font-family: monospace; font-size: 12px;">{value}</td>
    </template>

    <template id="dynamic-class-template">
        <div id="dynamic-class-test" class="{class_part_1} {class_part_2}">Dynamic Class Test</div>
    </template>

    <div id="app"></div>
    <script src="template_encoder.js"></script>
    <script src="index.js" data-wasm-url="snap-demo.wasm" data-wasm-init-method="init"></script>
</body>

</html>